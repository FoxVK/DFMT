% Nejprve uvedeme tridu dokumentu s volbami
\documentclass[bc,male,c,dept460]{diploma}						% jednostranny dokument
%\documentclass[bc,male,java,dept460,twoside]{diploma}		% oboustranny dokument
\usepackage[utf8]{inputenc}
\inputencoding{utf8}
\usepackage[czech]{babel}

\usepackage{makecell}

\usepackage{pdflscape}

\usepackage{placeins}


\newcommand{\iic}{I\textsuperscript{2}C }
\newcommand{\iis}{I\textsuperscript{2}S }
\newcommand{\eeprom}{E\textsuperscript{2}PROM}

\newcommand{\VID}{0x04D8}
\newcommand{\PID}{0xF32C}

%\widowpenalty10000
%\clubpenalty10000


% Zadame pozadovane vstupy pro generovani titulnich stran.
\ThesisAuthor{Bc. Pavel Kovář}

% U bakalarske praxe neni nutne nazev zadavat
\ThesisTitle{Modul USB FM rádia}

% U bakalarske praxe neni nutne anglicky nazev zadavat
\EnglishThesisTitle{USB FM Radio Modul}

\SubmissionDate{1. dubna 2016}

\PrintPublicationAgreement{true}

\Thanks{Rád bych na tomto místě poděkoval zejména mému vedoucímu za bezbřehou trpělivost.}

\CzechAbstract{Tato práce popisuje návrh USB FM přijímače se dvěma tunery. Jeden tuner slouží pro přehrávání zvuku a druhý pro vyhledávání dalších stanic. přijímač je v systému reprezentován jako USB zvuková karta.\\ 
Příjem je realizován dvojicí integrovaných obvodů Si4735-DU. Tyto jsou přes \iis a \iic  spojeny s MCU PIC32MX250F128B, který přes USB zajišťuje komunikaci s počítačem. V rámci firmware MCU je, po neúspěchu s Microchip harmony frameworkem, napsán vlastní USB stack.\\
Knihovna je napsána v jazyku C s využitím knihovny libusb. Poskytuje funkce pro tři úrovně přístupu k tunerům.\\
Demonstrační aplikace je ve formě grafického uživatelského rozhraní, napsaná  v C++ s využitím QT frameworku.\\
Vše je funkční pod OS Linux i Windows.}

\CzechKeywords{FM rádio, USB, RDS, QT, libusb, PIC}

\EnglishAbstract{This work describes design of USB FM radio receiver with two tuners. One tuner is for radio playback, second one seeks new stations. In computer, device acts as sound card.\\
Receiving is done by couple of Si4735-DU integrated circuits, which are connected to MCU via \iic and \iis. MCU forwards data over USB to computer and back. Use of Microchip harmony framework was not successful so in firmware is USB stack written from scratch.\\
Library is written in C with use of libusb library. There are three levels of functions to access tuners.\\
Demo application has graphical user interface and is written in C++ in QT framework.\\
All works under Linux and Windows.}

\EnglishKeywords{FM radio receiver, USB, RDS, QT, libusb, PIC}

% Pridame pouzivane zkratky (pokud nejake pouzivame).
\AddAcronym{AM}{Amlitudová Modulace (Rozhlasové vysílání v pásmu dlouhých vln)}
\AddAcronym{CD}{Compact disc}
\AddAcronym{DAB}{Digital Audio Broadcasting (Digitální pozemní rozhlasové vysílání)}
\AddAcronym{DIP}{Dual Inline Package}
\AddAcronym{FM}{Rozhlasové vysílání v pásmu velmi krátkých vln}
\AddAcronym{\iic}{Inter-Integrated Circuit}
\AddAcronym{\iis}{Integrated Interchip Sound}
\AddAcronym{LW}{Long Waves (Rozhlasové vysílání v pásmu dlouhých vln)}
\AddAcronym{MCU}{Microcontroller unit}
\AddAcronym{PCM}{Pulse-code modulation}
\AddAcronym{RDS}{Radio Data System}
\AddAcronym{SPI}{TODO Serial Peripheral Interface ??}
\AddAcronym{SSOP}{TODO}
\AddAcronym{SW}{Short Waves (Rozhlasové vysílání v pásmu krátkých vln)}
\AddAcronym{USB}{Universal Serial Bus}
\AddAcronym{UTF-16}{Způsob kódování znaků ISO 10646/Unicode}
\AddAcronym{QFN}{TODO}

%todo QFN SPI SSOP DAB FM AM SW LW MW DIP



% Zadame cestu a jmeno souboru ci nekolika souboru s digitalizovanou podobou zadani prace
% Pri sazbe se pak hledaji soubory Figures/Zadani1.jpg, Figures/Zadani2.jpg atd.
% Do diplomove prace se postupne vlozi vsechny existujici soubory Figures/ZadaniXXX.jpg
% Pokud toto makro zapoznamkujeme sazi se stranka s upozornenim
%\ThesisAssignmentImagePath{Figures/Zadani}

% Zadame soubor s digitalizovanou podobou prohlaseni
% Pokud toto makro zapoznamkujeme sazi se cisty text prohlaseni
%\DeclarationImageFile{figures/Prohlaseni.jpg}



% Zacatek dokumentu
\begin{document}

% Nechame vysazet titulni strany.
\MakeTitlePages

% Asi urcite budeme potrebovat obsah prace.
\tableofcontents
\cleardoublepage	% odstrankujeme, u jednostranneho dokumentu o jednu stranku, u oboustrenneho o dve

% Jsou v praci tabulky? Pokud ano vysazime jejich seznam.
% Pokud ne smazeme nasledujici makro.
\listoftables
\cleardoublepage	% odstrankujeme, u jednostranneho dokumentu o jednu stranku, u oboustrenneho o dve

% Jsou v praci obrazky? Pokud ano vysazime jejich seznam.
\listoffigures
\cleardoublepage	% odstrankujeme, u jednostranneho dokumentu o jednu stranku, u oboustrenneho o dve


% Jsou v praci vypisy programu? Pokud ano vysazime jejich seznam.
\lstlistoflistings
\cleardoublepage	% odstrankujeme, u jednostranneho dokumentu o jednu stranku, u oboustrenneho o dve



\input{chapters/uvod.tex}

\input{chapters/vyber.tex}
\input{chapters/usb.tex}
\input{chapters/tuner.tex}
\input{chapters/knihovna.tex}

\input{chapters/zaver.tex}




\begin{thebibliography}{99}

\bibitem{usb-complete} AXELSON, Jan. 
\textit{USB complete: the developer's guide.} 4th ed. Madison, WI: Lakeview Research, 2009, xxiii, 504 p. ISBN 1-931448-08-6.

%usb reference
\bibitem{usb-spec} Compaq, Hewlett-Packard, Intel, Lucent, Microsoft, NEC, Philips. 
\textit{Universal Serial Bus Specification: Revision 2.0} [online] 2000-04-27 [2015-12-26]
\url{http://www.usb.org/developers/docs/usb20_docs/usb_20_0702115.zip}

%usb audio 1.0
\bibitem{usb-audio} Gal Ashour, Billy Brackenridge, Oren Tirosh, Altec Lansing, Craig Todd, Remy Zimmermann, Geert Knapen. 
\textit{Universal Serial Bus Device Class Definition for Audio Devices: Release 1.0} [online] 1998-03-18 [2015-12-26]
\url{http://www.usb.org/developers/docs/devclass_docs/audio10.pdf}

%usb audio formats 
\bibitem{usb-audio-formats} Gal Ashour, Billy Brackenridge, Oren Tirosh, Altec Lansing, Craig Todd, Remy Zimmermann, Geert Knapen. 
\textit{Universal Serial Bus Device Class Definition for Audio Data Formats} [online] 1998-03-18 [2016-02-20]
\url{http://www.usb.org/developers/docs/devclass_docs/frmts10.pdf}

%usb lang codes
\bibitem{usb-lang}  USB Implementers’ Forum. 
\textit{Universal Serial Bus Language Identifiers (LANGIDs): Version 1.0} [online] 2000-03-26 [2016-02-09]
\url{http://www.usb.org/developers/docs/USB_LANGIDs.pdf}

\bibitem{tuner-datasheet} Silicon Laboratories,
\textit{Si4730/Si4731/Si4734/Si4735-D60 Broadcast AM/FM/SW/LW Radio Receiver: Rev. 1.2 8/13} [online] 2013-08-08 [2015-12-26] \url{https://www.silabs.com/Support\%20Documents/TechnicalDocs/Si4730-31-34-35-D60.pdf}

\bibitem{tuner-programing} Silicon Laboratories,
\textit{AN332: Si47xx Programming Guide: Rev. 1.0 9/14 } [online] 2014-09-10 [2015-12-26] \url{http://www.silabs.com/Support\%20Documents/TechnicalDocs/AN332.pdf}

%microchip pic
\bibitem{pic} Microchip Technology Inc.
\textit{PIC32MX1XX/2XX Family Data Sheet: Revision H} [online] 2015-07-29 [2015-12-26]
\url{http://ww1.microchip.com/downloads/en/DeviceDoc/60001168H.pdf}

%microchip i2s
\bibitem{pic-iis} Microchip Technology Inc.
\textit{PIC32 Family Reference Manual, Sect. 23 Serial Peripheral Interface} [online] 2011-10-11 [2015-12-26]
\url{http://ww1.microchip.com/downloads/en/DeviceDoc/61106G.pdf}

%microchip i2c
\bibitem{pic-iic} Microchihttp://ww1.microchip.com/downloads/en/DeviceDoc/61116F.pdp Technology Inc.
\textit{PIC32 Family Reference Manual,  Sect 24. Inter-Integrated Circui} [online] 2013-03 [2015-12-26]
\url{http://ww1.microchip.com/downloads/en/DeviceDoc/61116F.pdf}

%microchip dma
\bibitem{pic-dma} Microchip Technology Inc.
\textit{PIC32 Family Reference Manual, Sect. 31 DMA Controller} [online] 2013-11-15 [2015-12-26]
\url{http://ww1.microchip.com/downloads/en/DeviceDoc/60001117H.pdf}

%microchip usb
\bibitem{pic-usb} Microchip Technology Inc.
\textit{PIC32 Family Reference Manual, Sect. 27 USB On-The-Go} [online] 2011-04-13 [2015-12-26]
\url{http://ww1.microchip.com/downloads/en/DeviceDoc/61126F.pdf}

%microchip errata
\bibitem{pic-errata} Microchip Technology Inc.
\textit{PIC32MX1XX/2XX 28/36/44-pin Family Silicon Errata and Data Sheet Clarification} [online] 2015-07-29 [2015-12-26]
\url{http://ww1.microchip.com/downloads/en/DeviceDoc/80000531G.pdf}

%microchip harmony reference
\bibitem{harmony} Microchip Technology Inc.
\textit{MPLAB Harmony USB Libraries Help} [online] 2012-11-15 [2015-12-26]
\url{http://ww1.microchip.com/downloads/en/DeviceDoc/MPLAB\%20Harmony\%20USB\%20Libraries\%20\%28v1.06.02\%29.pdf}

\bibitem{tas}
\textit{TAS1020B USB Streaming Controller} [online] 2011-05 [2015-12-29]
\url{http://www.ti.com/lit/ds/symlink/tas1020b.pdf} 

\bibitem{le} STMicroelectronics
\textit{Very low-dropout voltage regulator with inhibit function} [online] 03-2014 [2016-01-09]
\url{http://www.st.com/st-web-ui/static/active/en/resource/technical/document/datasheet/CD00000545.pdf}

\bibitem{usb-vid} USB.org
\textit{Getting a Vendor ID} [online] [2016-01-16]
\url{http://www.usb.org/developers/vendor/}


\end{thebibliography}




\appendix

\section{Schéma zapojení modulu}
\begin{landscape}
Na štorc
\end{landscape}

\clearpage

%\InsertFigure{figures/Graf}{0.7\textwidth}{Nějaký graf}{fig:SampleGraph}


\end{document}
